% Author     : C. Pierquet
% licence    : Released under the LaTeX Project Public License v1.3c
% or later, see http://www.latex-project.org/lppl.txtf

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{ProfLycee}[2023/05/09 2.6.3 Aide pour l'utilisation de LaTeX en lycee]
% 2.6.3	Ajout d'une commande pour l'équation affine d'une droite passant par deux points
% 2.6.2	Correction de commandes pour la pseudo3d + nouvelle clé pour la trigo
% 2.6.1	Ajout de commandes pour du calcul intégral (valeur approchée + tikz)
% 2.6.0	Ajout d'une clé [Brut] pour les mesures principales + commande calcul ligne trigo
%		Refonte des fichiers inclus + correction de bugs mineurs
%		Split des thèmes en fichiers 'input'
% 2.5.9	Ajout clé [CouleurNombres] pour CodePiton
% 2.5.8	Ajout du style Classique pour PythonLst (externalisation listings) + Modification marges CodePiton (1.5)
%		Refonte des commandes pour les codes pour éviter des soucis avec les étoilées
% 2.5.7	Ajout d'un style classique pour le code python (Piton) + console piton/pyluatex
%		Refonte des commandes tcbset pour les codes
% 2.5.6	Ajout d'une clé [Trigo] pour \AxexTikz (avec graduations libres)
%		"Suppression" de la fenêtre XCas de la documentation
% 2.5.5	Correction d'un bug avec la fenetre XCas
% 2.5.4	Amélioration des commandes de combinatoire avec calculs via xint (plus précis !)
% 2.5.3	Modification des tests d'arguments dans les probas (macros autorisées)
% 2.5.2	Correction d'un dysfonctionnement avec tcolorbox 6.0 :-(
% 2.5.1	Modification de la commande de conversion en fraction
% 2.5.0	Passage à des libraires via \useproflyclib
% 2.2.0	Ajout de clés [Notation] pour les arrangements et combinaisons
% 2.1.9	Correction d'un bug avec les MiniSchémas + version étoilée
% 2.1.8	Suppression des pixelarts, désormais dans le package "PixelArtTikz" !
% 2.1.7	Option booléenne Math pour les figures pave/tetraèdre
% 2.1.6	Chargement de hologo à la place de hvlogos (bug potentiel avec \bm)
% 2.1.5	Ajout de commandes pour calculer arrangements et combinaisons
% 2.1.4	Ajout d'une commande pour résoudre de manière approchée une équation f(x)=k
% 2.1.3	Ajout de l'option auto-tabs-gobble sur piton (v1.0) + correction d'un bug sur CodePiton
% 2.1.2	Ajout d'une commande pour déterminer la mesure principale d'un angle + option <ElargirOx/y> pour les axes
% 2.1.1	Ajout d'une section pour les tracés de repère et courbe, en tikz
% 2.1.1	Ajout d'une section pour les tracés de repère et courbe, en tikz
% 2.1.0	Ajout du calcul du seuil pour les suites récurrentes + racines de nombres décimaux + option pour pythontex
% 2.0.9	Ajouts de commandes pour générer des nombres et listes aléatoires
% 2.0.8	Ajout d'options pour stretch et fonte env python(s) (pas tous...)
% 2.0.6	Quelques modifications sur les codes python (taille police et marges)...
% 2.0.5	Correction d'un bug avec les calculs en valeurx exactes avec les suites récurrentes...
% 2.0.4	Ajout d'une commande pour présenter un balayage (TVI) + calculs suites récurrentes 
% 2.0.3Correction d'un bug avec les arbres 3x3
% 2.0.2	Ajout de l'option auto-margin sur piton
% 2.0.1	Chargement de piton uniquement si lua...
% 2.0.0	Refonte des commandes, des options, et de la documentation !!!

%------Option(s)
\newif\if@build \@buildfalse
\DeclareOption{build}{\@buildtrue}
\DeclareOption*{}
\ProcessOptions\relax

%------Packages utiles
\RequirePackage{mathtools}
\RequirePackage[table,svgnames]{xcolor}%Gestion des couleurs
\RequirePackage{tikz}
\RequirePackage{tkz-tab}
\RequirePackage{pgf,pgffor}
\RequirePackage{ifthen}
\RequirePackage{xkeyval}
\RequirePackage{xstring}
\RequirePackage{xintexpr}
\RequirePackage{xintbinhex}
\RequirePackage{xinttools}
\RequirePackage{randomlist}
\RequirePackage{simplekv}
\RequirePackage{listofitems}
\RequirePackage{tabularray}
\RequirePackage{settobox}
\RequirePackage{hologo}
\RequirePackage{fancyvrb}
\RequirePackage{nicefrac}
\RequirePackage{siunitx} %test avec v3
\sisetup{%
	locale=FR,output-decimal-marker={,},%
	mode=match,propagate-math-font=true,%
	reset-math-version=false,reset-text-family=false,%
	reset-text-series=false,reset-text-shape=false,%
	text-family-to-math=true,text-series-to-math=true,%
	group-minimum-digits=4%
}%
\RequirePackage{fontawesome5}
%librairies tikz
\usetikzlibrary{calc}
\usetikzlibrary{decorations}
\usetikzlibrary{decorations.pathreplacing}
\usetikzlibrary{decorations.markings}
\usetikzlibrary{arrows,arrows.meta}
\usetikzlibrary{babel}
\usetikzlibrary{shapes.geometric}
\usetikzlibrary{decorations.pathmorphing}
%tcolorbox
\RequirePackage[most]{tcolorbox}
%divers
\RequirePackage{iftex}

%%------LIBRAIRIES/BIBIOTHÈQUES
\newcommand\useproflyclib[1]{%ajout d'une commande "librairie" pour charger des modules
	\IfSubStr{#1}{piton}%
		{%
			\input{proflycee-tools-piton.tex}
		}%
		{}%
	\IfSubStr{#1}{minted}%
		{%
			\if@build
				\RequirePackage[outputdir=build]{minted} %on charge minted avec le répertoire build
			\fi
			\tcbuselibrary{minted} %on charge minted via la librairie tcbox
			\input{proflycee-tools-minted.tex}
		}%
		{}%
	\IfSubStr{#1}{pythontex}%
		{%
			\RequirePackage[gobble=auto]{pythontex}
			\setpythontexlistingenv{pythont} %pour ne pas télescoper lstlistings (?)
			\if@build
				\setpythontexoutputdir{./build/pythontex-files-\jobname} %essai de modif pythontex répertoire build
			\fi
			\input{proflycee-tools-pythontex.tex}
		}%
		{}%
}

%%------Codes listings
\input{proflycee-tools-listings.tex}
%%------Trigo
\input{proflycee-tools-trigo.tex}
%%------Probas
\input{proflycee-tools-probas.tex}
%%------Stats
\input{proflycee-tools-stats.tex}
%%------Arithm
\input{proflycee-tools-arithm.tex}
%%------Graphiques
\input{proflycee-tools-graphiques.tex}
%%------Analyse
\input{proflycee-tools-analyse.tex}
%%------Aléatoire
\input{proflycee-tools-aleatoire.tex}
%%------Suites
\input{proflycee-tools-suites.tex}
%%------Géométrie
\input{proflycee-tools-geom.tex}
%%------Récréations diverses
\input{proflycee-tools-recreat.tex}

\endinput